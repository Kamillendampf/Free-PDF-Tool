[pytest]
testpaths = tests
pythonpath = .

addopts =
    -q
    -ra
    --strict-config
    --strict-markers
    --durations=10
    --color=yes

# --- Marker-Deklaration ---
markers =
    unit: fast, isolated tests without I/O
    integration: tests touching filesystem or multiple modules
    e2e: end-to-end tests via CLI/subprocess
    slow: slow tests (excluded by default via -m "not slow")

# --- Logging für schnellen Kontext in CI ---
log_cli = true
log_cli_level = INFO
log_format = %(asctime)s [%(levelname)s] %(name)s: %(message)s
log_date_format = %H:%M:%S

# --- JUnit (für GitHub Actions / andere CI-Systeme) ---
junit_family = xunit2
junit_suite_name = FreePDFTool
junit_logging = all

# --- Warnings-Filter (räumt bekannte Lib-Noise weg) ---
filterwarnings =
    ignore::DeprecationWarning:PyPDF2
    ignore:.*distutils.*:DeprecationWarning
